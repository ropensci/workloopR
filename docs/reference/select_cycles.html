<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Select cycles from a work loop object — select_cycles • workloopR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Select cycles from a work loop object — select_cycles" />
<meta property="og:description" content="Retain data from a work loop experiment based on position cycle" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">workloopR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Introduction-to-workloopR.html">Introduction to workloopR</a>
    </li>
    <li>
      <a href="../articles/non-ddf-sources.html">Importing data from non .ddf sources</a>
    </li>
    <li>
      <a href="../articles/Calculating-twitch-kinetics.html">Working with isometric experiments</a>
    </li>
    <li>
      <a href="../articles/Analyzing-workloops.html">Analyzing work loop experiments</a>
    </li>
    <li>
      <a href="../articles/batch-processing.html">Batch processing</a>
    </li>
    <li>
      <a href="../articles/Plotting-workloopR.html">Plotting data in workloopR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/workloopR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Select cycles from a work loop object</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/workloopR/blob/master/R/data_transformation_functions.R'><code>R/data_transformation_functions.R</code></a></small>
    <div class="hidden name"><code>select_cycles.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Retain data from a work loop experiment based on position cycle</p>
    </div>

    <pre class="usage"><span class='fu'>select_cycles</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>cycle_def</span>,
  keep_cycles <span class='op'>=</span> <span class='fl'>4</span><span class='op'>:</span><span class='fl'>6</span>,
  bworth_order <span class='op'>=</span> <span class='fl'>2</span>,
  bworth_freq <span class='op'>=</span> <span class='fl'>0.05</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A <code>workloop</code> object (see Details for how it should be
organized)</p></td>
    </tr>
    <tr>
      <th>cycle_def</th>
      <td><p>A string specifying how cycles should be defined; one of:
"lo", "p2p", or "t2t". See Details more info</p></td>
    </tr>
    <tr>
      <th>keep_cycles</th>
      <td><p>The indices of the cycles to keep. Include 0 to keep data
identified as being outside complete cycles</p></td>
    </tr>
    <tr>
      <th>bworth_order</th>
      <td><p>Filter order for low-pass filtering of <code>Position</code>
via <code><a href='https://rdrr.io/pkg/signal/man/butter.html'>signal::butter()</a></code> prior to finding L0</p></td>
    </tr>
    <tr>
      <th>bworth_freq</th>
      <td><p>Critical frequency (scalar) for low-pass filtering of
<code>Position</code> via <code><a href='https://rdrr.io/pkg/signal/man/butter.html'>signal::butter()</a></code> prior to finding L0</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed to/from other functions that make use
of <code>select_cycles()</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>workloop</code> object with rows subsetted by the chosen position
cycles. A <code>Cycle</code> column is appended to denote which cycle each time
point is associated with. Finally, all attributes from the input
<code>workloop</code> object are retained and one new attribute is added to
record which cycles from the original data were retained.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>select_cycles()</code> subsets data from a workloop trial by
position cycle. The <code>cycle_def</code> argument is used to specify which part
of the cycle is understood as the beginning and end. There are currently
three options: <br />
'lo' for L0-to-L0; <br />
'p2p' for peak-to-peak; and <br />
't2t' for trough-to-trough <br /></p>
<p>Peaks are identified using <code><a href='https://rdrr.io/pkg/pracma/man/findpeaks.html'>pracma::findpeaks()</a></code>. L0 points on the
rising edge are found by finding the midpoints between troughs and the
following peak. However the first and last extrema and L0 points may be
misidentified by this method. Please plot your <code>Position</code> cycles to
ensure the edge cases are identified correctly.</p>
<p>The <code>keep_cycles</code> argument is used to determine which cycles (as
defined by <code>cycle_def</code> should be retained in the final dataset. Zero
is the index assigned to all data points that are determined to be outside
a complete cycle.</p>
<p>The <code>muscle_stim</code> object (<code>x</code>) must be a <code>workloop</code>,
preferably read in by one of our data import functions. Please see
documentation for <code><a href='as_muscle_stim.html'>as_muscle_stim()</a></code> if you need to manually construct
a <code>muscle_stim</code> object from another source.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='analyze_workloop.html'>analyze_workloop</a></code>,
<code><a href='read_analyze_wl.html'>read_analyze_wl</a></code>,
<code><a href='read_analyze_wl_dir.html'>read_analyze_wl_dir</a></code></p>
<p>Other data transformations: 
<code><a href='fix_GR.html'>fix_GR</a>()</code>,
<code><a href='invert_position.html'>invert_position</a>()</code></p>
<p>Other workloop functions: 
<code><a href='analyze_workloop.html'>analyze_workloop</a>()</code>,
<code><a href='fix_GR.html'>fix_GR</a>()</code>,
<code><a href='get_wl_metadata.html'>get_wl_metadata</a>()</code>,
<code><a href='invert_position.html'>invert_position</a>()</code>,
<code><a href='read_analyze_wl_dir.html'>read_analyze_wl_dir</a>()</code>,
<code><a href='read_analyze_wl.html'>read_analyze_wl</a>()</code>,
<code><a href='summarize_wl_trials.html'>summarize_wl_trials</a>()</code>,
<code><a href='time_correct.html'>time_correct</a>()</code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Vikram B. Baliga and Shreeram Senthivasan</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://docs.ropensci.org/workloopR/'>workloopR</a></span><span class='op'>)</span>

<span class='co'># import the workloop.ddf file included in workloopR</span>
<span class='va'>wl_dat</span> <span class='op'>&lt;-</span><span class='fu'><a href='read_ddf.html'>read_ddf</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, <span class='st'>"workloop.ddf"</span>,
                              package <span class='op'>=</span> <span class='st'>'workloopR'</span><span class='op'>)</span>,
                  phase_from_peak <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># select cycles 3 through 5 via the peak-to-peak definition</span>
<span class='va'>wl_selected</span> <span class='op'>&lt;-</span> <span class='fu'>select_cycles</span><span class='op'>(</span><span class='va'>wl_dat</span>, cycle_def <span class='op'>=</span> <span class='st'>"p2p"</span>, keep_cycles <span class='op'>=</span> <span class='fl'>3</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>)</span>

<span class='co'># are only three cycles present, running peak-to-peak?</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>wl_selected</span><span class='op'>$</span><span class='va'>Position</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># are the cycles of (approximately) the same length?</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>wl_selected</span><span class='op'>$</span><span class='va'>Cycle</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   a   b   c 
#&gt; 357 357 357 </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.vikram-baliga.com/'>Vikram B. Baliga</a>, <a href='https://www.zoology.ubc.ca/person/shreeram-senthivasan/'>Shreeram Senthivasan</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


